(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{326:function(e,t,i){},327:function(e,t,i){},328:function(e,t,i){},329:function(e,t,i){},333:function(e,t,i){},334:function(e,t,i){},335:function(e,t,i){},336:function(e,t,i){},337:function(e,t,i){},338:function(e,t,i){},341:function(e,t,i){},342:function(e,t,i){},344:function(e,t,i){},345:function(e,t,i){},346:function(e,t,i){},347:function(e,t,i){},348:function(e,t,i){},349:function(e,t,i){},350:function(e,t,i){},351:function(e,t,i){},352:function(e,t,i){},353:function(e,t,i){},374:function(e,t,i){"use strict";i(326)},375:function(e,t,i){"use strict";i(327)},376:function(e,t,i){"use strict";i(328)},377:function(e,t,i){"use strict";i(329)},402:function(e,t,i){"use strict";i(333)},403:function(e,t,i){"use strict";i(334)},404:function(e,t,i){"use strict";i(335)},405:function(e,t,i){"use strict";i(336)},406:function(e,t,i){"use strict";i(337)},407:function(e,t,i){"use strict";i(338)},422:function(e,t,i){"use strict";i(341)},423:function(e,t,i){"use strict";i(342)},425:function(e,t,i){"use strict";i(344)},426:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAvCAYAAAAIA1FgAAAAAXNSR0IArs4c6QAABG1JREFUWEetmF1oHFUUx//nzmxWNuk20dpai9+sEpZlNsmiUQhooahR64MmVNQq7YOCtBoQtCVI1GApKmL6oqA+xApp0Bc/6kNBH/KSyCY7s8NqwkL9jhrQwjYbdXfmHrkhKdm487FJ5mnZOfc3d8899/7OLGEDFzML0zRvF0K8zsxpIqqhENHfruuO1X4b4kGFQqHJdd1uAK9KKe8gIr3OsItE9FZD8Lm5uR2VSmW/lHIAQDsAzWM+v0spj4aCW5bVzMw3E9EzAPYD2AHAb+x5Zn7EM4CZaWpqals0Gt0lhOgD8CSAawFEA7LHAL6ORCKHauBDQ0Oir68v5jhOq+u6t2iadreaKRHtZuZ4iCVRIRUi+oiZXyS18rOzs23lcrlV13WVx04ACnoDgO1EFAsJXQ27KKU8WS6XR2hmZuZKIcRLRNQLoBmAgrUE5NTveX8y83OGYZwh27ZvklKeAdDV4Ay9wn8B8LBhGFNkWdZtAMYAXL8VcCL61nGc3s7Ozh8pl8v1CSFGAFy1BXAmonNEdDCVSv1B+Xz+ZWZWm2LbZuFE9A8zf1AqlQZ7enoukGmaJ4QQDzLzZatw9ZmI1KI29EBmLgkhXqtUKqcymcwSqS3tum5ztVoVCk5EJKW8DsCdRHQIwNUAlu+FuBaklE8Vi8XP+vv7Xc8dms/n26SUCj5IRK0hwCrkJ2buTafTheWJ+g2yLEudfh8D2BMGzswFTdPuTaVSP4eB72Xm02r7B8GZ2RVCfMrMTxuGseALz2azEV3XD6hzGcAVQXAAZSI6tbS0dKK7u7vkC5+fn48tLCwcBXCMiMIcWheklIMtLS3vJxKJf33huVyuVdO0YWY+DOBSmfr8AiWIgx0dHedWYzwX1LbtXcw8ysz7ghZ+BXbecZz7u7q6vguEW5aljtwvVnQWlPJlQVSr1ccymcxvYeB7AXy4somC4MuC0DTt+WQy+ZcvvNFKIaISM58E8LZhGGVfuBIygGeJ6IWQelOCGHAcZyyTyVR94YVC4XLHcVR9HwDQFJQTAPMAHjcM46u1sXWrxTTNPUT0CYBbQ1aKqpD7DMP4PhBu23a7lPJsSDvVCCIQnsvl9gkhRsPYab0gfOHFYjG6uLh4WAgxDKAtKN/rBeELn5ycjMdisWPMfGSl1Qji1wjCF25Z1k4iekdKqTotr0ZzLaNGEL5w27avcV33SyJKBk1Z3V8vCF+4aZpJIlKVoppO36ueIDzh4+PjWiKReEAI8S6AnUHweoLwhGez2VhTU9MRKeXxjQrCEz4xMdEWj8eHVUuxto9pRBCe8A0I4gchRG8qlbokCE/4BgTxDTM/lE6nf63362oOLsuyGhKE6o51XR9YK4i6M98qQdSFb5Ug6sKVIFzXfYOZH92MILzSsjsSiZwGcNdmBFEXPj093a7r+ucAbgyxMz0F8T+4eqG1bfseKeUoEam346AzxSGi90ql0nH1BuEVvFyK6s+CSqXyhKZprzDz9iA4gCUAbwIYWdtKrB/3H+5PODRT4NmlAAAAAElFTkSuQmCC"},427:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAwCAYAAACbm8NsAAAAAXNSR0IArs4c6QAABoVJREFUWEetWW1sk1UUfs7tWzaKZaMqfoFgzCSslq6jAlH/EDXKYjITFTEh4meCEVDUiEaDiyOaEIIiICT4GcUE/CDRRAyoMwQRkrn1ba2GDEEEETUORFi7te895tSW1NH2vi2cv73n3uc997nnPOeUUKPt3LnT39DQME5rfQ2AEDOHAUwnIu+wLQeJ6Gtm/hHAd5Zl2alU6kg0Gh0YfjRVi6Wrq8tqbGwcR0RzAMwhoouZeSQRjQQwHEhh+0EAaWYWAAeUUu8PDQ19HI1GjwLgwqKqwNi2PQrALACLJBJENLraj8kffgzANsuyljU3N/9ARDlArsH09fWNTqfT92qtFwO4HICqAUixSwbAVsdxFrW2th50DebQoUMjjx8//qDWegmAy84SRLH7SQCrUqnU8hkzZpwwRmbz5s2eyZMn36K1Xg3ginMIpLDVfiKaGwqFdhvBxGKxqwC8TkTXm66VmU8QUT8zQynlZ+aAyQfAADOv9Pv9KyqCyRP2UQBPA/BXiAoz818AXiWizZlMJmtZ1o1EtBTAJQZAQt4vM5nMAxXBJBKJyVrrTQCuNmyYIqI3mLkzHA7/IaBt2x4L4BUAtwMYYbjen5i5vSyYrq6u+kAgcB+AFwE0GjY7pJSaEwqFdhXWdXd3N1iW1UlEDwGoN/gfBjCvLJhkMhnIZrPyZXdV+jIi0gC+SKfT86ZNmyZJLGd79uw5v66ubhUR3ekiMoe11veXBdPb2ztRKfUpgKDhiiSrrk2lUsvkeRbA9PT0TPB4POJvumJx+QXA7LJgbNu+gYjeZWYhYCX7G8CyQCCwdvz48SlZyMxk2/ZNRPQOgIsN/kLg75n5jpJg+vr66gYGBh6QQwCMMWx2lJnnhcPh7YW03tvb2+jxeDqZWfaQmlXJhpj5A4/H80RJMLt37x7t8/meYeaFAKQeVbKflVJtoVBIqrIYxePxGcy8EcBEU54hohPMvMyyrHUlwSQSiYuY+U1mvhmAxwDmOwC3hcNheRHIR+UFZnbzisTloOM4d0cikdIZuKen51KPxyP3faUBiGbmrUqppVOmTDkmXEkkErOYeT2AcaaoMLOjlPqEmedLfioZGdEsgUBAiFdOn+Qwaq25vr7+n02bNh3r6OjQiURivNZagNzisqqLlHi2v7//rZkzZ6aNtckQmdM/J5PJ87LZ7CIATwFocOEnJeTbwcHBudOnTz+QI5sLJ+MSuZ5YLNamlFoDYILLfeVal44aNWpDU1OTKMFzA8a2bZEWb0tlZ2Y3oksT0dY8V3LEPydg4vH4GGZ+UqQogPOMYfxvwS9END8UCn1eyE1nDSaZTI7IZDJziajThVQo4PxHpIbP51ve1NR0unycFZh8yr+OiNa5qF8FIE5e9y4o6N7iSNZM4HwhFMJKt2BKjHKm1KAkMz8cDoe/Kb6es+JMEU+kXFRSgKc/nJl/A/Cc1+t9LxgMDpXiVtWRKfBEiigRmSp6MU9WE9EKydTlSF4VmBp5kisZWutHSvGkZs5UyxNRgcwc11ovaGlp2VWKJzWBqZEnB4lo4d69ez+bPXu2vKSK5uqaauEJM/9JRC9blrU6GAxK52g0I5gaeXJSOlBmfrm1tfVPIwq35aBangDIAvisuKE/J2Ck3aivr38cgNt8Im3LLsdxFkQikbiJsMNBlr2m/OThIa31My4Ufi7DynSKiJ7YsmXLNhFbbiNSMQN3dHSo9vb2WUqpaiYPh5n5+SNHjmxsa2vL6ZNqrWRkYrGYNG7rieg6l5pHmv6VmUxmbTQalT6qJjsDTHd39yVer1ckwVwAdS52lY5yg1LqpVAo9LuL9WWX/A9MXscKWUUsyWzFZPJytqbT6UcLOtbkUOn302BkQjVp0qQ2ET755su0r1TeHcz8WEtLyw/FU0uTY7nfc2DygvpaEdRENMWljv1V+qVsNvuVUsqYPKWtYeZTkUjkr/zk4gxMuU2k33Ec5zUiksi4EdTiJpERjsjU0giGiKQ2feI4TmckEjleKjrEzN54PH4HM8sI7IJaQ+zCT577mlQq9ULx6KTYj2Ts7vf7FxHREmZ2pdpcHFxqiYiq53w+3xuFPmn4Itq3b9/YU6dOrTBNqGoEUOx2VGt9TyQS2V6WwLZtTwLwYRUKv1Zc+7PZ7K1Tp04tjE7OJHAsFruLiCTtX1jrKS79dni93jnNzc0izEuaDHaEK/J/QC1/SrjEASmaH1mWtTgYDPaXc/oXDL/Z0FWsPQMAAAAASUVORK5CYII="},429:function(e,t,i){"use strict";i(345)},430:function(e,t,i){"use strict";i(346)},440:function(e,t,i){"use strict";i(347)},441:function(e,t,i){"use strict";i(348)},442:function(e,t,i){"use strict";i(349)},443:function(e,t,i){"use strict";i(350)},444:function(e,t,i){"use strict";i(351)},445:function(e,t,i){"use strict";i(352)},446:function(e,t,i){"use strict";i(353)},451:function(e,t,i){"use strict";i.r(t),i.d(t,"TestButton",(function(){return n})),i.d(t,"LocationMixin",(function(){return d})),i.d(t,"TreeSelect",(function(){return m})),i.d(t,"Breadcrumb",(function(){return f})),i.d(t,"DeptSelect",(function(){return w})),i.d(t,"Diy",(function(){return ne})),i.d(t,"DiyAddress",(function(){return K})),i.d(t,"DiyCheckbox",(function(){return j})),i.d(t,"DiyDate",(function(){return O})),i.d(t,"DiyDept",(function(){return Q})),i.d(t,"DiyInput",(function(){return x})),i.d(t,"DiyPhone",(function(){return ae})),i.d(t,"DiyRadio",(function(){return B})),i.d(t,"DiySelect",(function(){return z})),i.d(t,"DiySign",(function(){return ee})),i.d(t,"DiyTextarea",(function(){return N})),i.d(t,"DiyUploadImg",(function(){return V})),i.d(t,"HideInput",(function(){return C})),i.d(t,"ImportExcel",(function(){return de})),i.d(t,"ProcessSelect",(function(){return me})),i.d(t,"RichText",(function(){return ve})),i.d(t,"RolesSelect",(function(){return we})),i.d(t,"SearchFormMixin",(function(){return Ce})),i.d(t,"SelectMapAddress",(function(){return xe})),i.d(t,"TableSelect",(function(){return Ne})),i.d(t,"ThirdPartySelect",(function(){return je})),i.d(t,"UploadFile",(function(){return Oe})),i.d(t,"UploadImg",(function(){return Be}));i(373);var a={name:"TestButton"},l=(i(374),i(14)),s=Object(l.a)(a,(function(){return(0,this._self._c)("button",{staticClass:"testBtn"},[this._v("测试按钮2")])}),[],!1,null,"03c86dca",null).exports;s.install=e=>{e.component(s.name,s)};var n=s,o={name:"LocationMixin",methods:{addressToLnglat(e,t){AMap.plugin("AMap.Geocoder",()=>{new AMap.Geocoder({city:"全国"}).getLocation(e,(e,i)=>{if("complete"===e&&"OK"===(null==i?void 0:i.info)){var a,l;const{lng:e,lat:s}=null==i||null===(a=i.geocodes)||void 0===a||null===(l=a[0])||void 0===l?void 0:l.location;t({lng:e,lat:s})}else t()})})},lnglatToAddress(e,t){AMap.plugin("AMap.Geocoder",()=>{new AMap.Geocoder({city:"全国"}).getAddress(e,(e,i)=>{var a;"complete"===e&&"OK"===i.info?t(null==i||null===(a=i.regeocode)||void 0===a?void 0:a.formattedAddress):t()})})},getCurrentPosition(e){navigator.geolocation?navigator.geolocation.getCurrentPosition(t=>this.successCallback(t,e),this.errorCallback,{timeout:3e3}):console.log("浏览器不支持获取地理位置！")},successCallback(e,t){const{longitude:i,latitude:a}=null==e?void 0:e.coords;t({lng:i,lat:a})},errorCallback(e){console.log(`error code${e.code}, ${e.message}`),callback()}}},r=Object(l.a)(o,(function(){return(0,this._self._c)("div")}),[],!1,null,null,null).exports;r.install=e=>{e.component(r.name,r)};var d=r,h=(i(122),{name:"TreeSelect",props:{props:{type:Object,default:()=>({children:"children",label:"label",value:"id"})},fetchOption:{type:Object,default:()=>({url:"",params:"",option:{},callback:null})},clearable:{type:Boolean,default:!0},isSelectParent:{type:Boolean,default:!0},isMultiple:{type:Boolean,default:!0},defaultCheckedKeys:{type:Array,default:()=>[]},option:{type:Array,default:()=>[]},size:{type:String,default:""}},data:()=>({data:[],allCheckedNodes:[]}),computed:{valueTitle(){return this.isMultiple?this.isSelectParent?this.allCheckedNodes.map(e=>e.label).join(","):this.noChildCheckedNodes.map(e=>e.label).join(","):this.allCheckedNodes.map(e=>e.label).join(",")},noChildCheckedNodes(){return this.allCheckedNodes.filter(e=>!e.children||!e.children.length)},treeData(){var e;return null!==(e=this.data)&&void 0!==e&&e.length,this.option}},mounted(){var e;null!==(e=this.defaultCheckedKeys)&&void 0!==e&&e.length&&this.handleCheckChange(),this.getData()},methods:{handleNodeClick(e,t,i){this.setChecked(e,t)},handleCheckChange(e,t,i){this.getCheckedNodes()},clearHandle(){this.allCheckedNodes=[],this.resetChecked()},setChecked(e,t){this.isMultiple||(this.allCheckedNodes=[e],this.onBlur()),this.$emit("getValue",this.allCheckedNodes)},getCheckedNodes(){this.allCheckedNodes=this.$refs.selectTree.getCheckedNodes()},onBlur(){this.$refs.elSelect.blur()},resetChecked(){this.$refs.selectTree.setCheckedKeys([])},getData(){let{url:e,params:t,option:i={},callback:a}=this.fetchOption;e&&(t&&(e=this.formatParams(e,t)),fetch(e,{method:"get",headers:{"Content-Type":"application/json;charset=utf-8"},...i}).then(e=>null==e?void 0:e.json()).then(e=>{0===(null==e?void 0:e.code)&&(this.data=a?a(null==e?void 0:e.data):null==e?void 0:e.data)}).catch(e=>console.log("Request Failed",e)))},formatParams(e,t){var i;let a=[];return null===(i=Object.keys(t))||void 0===i||i.forEach(e=>a.push(e+"="+t[e])),null!=a&&a.length&&(-1===e.search(/\?/)?e+="?"+a.join("&"):e+="&"+a.join("&")),e}}}),c=(i(375),i(376),Object(l.a)(h,(function(){var e=this,t=e._self._c;return t("el-select",{ref:"elSelect",staticClass:"elSelect",attrs:{value:e.valueTitle,"popper-class":"virtualSelect",clearable:e.clearable,size:e.size},on:{clear:e.clearHandle}},[t("el-option",{attrs:{value:e.valueTitle,label:e.valueTitle}},[t("el-tree",{ref:"selectTree",class:{"custom-tree":!e.isMultiple},attrs:{data:e.treeData,props:e.props,"node-key":e.props.value,"show-checkbox":e.isMultiple,"default-checked-keys":e.defaultCheckedKeys},on:{"node-click":e.handleNodeClick,"check-change":e.handleCheckChange}})],1)],1)}),[],!1,null,"a1a9f0c6",null).exports);c.install=e=>{e.component(c.name,c)};var m=c,u={name:"Breadcrumb",props:{breadcrumb:[]},data:()=>({}),methods:{handleBack(){this.$router.back()}}},p=(i(377),Object(l.a)(u,(function(){var e=this,t=e._self._c;return t("header",{staticClass:"my-breadcrumb"},[t("div",{staticClass:"my-breadcrumb-left"},[t("div",{staticClass:"my-breadcrumb-back",on:{click:e.handleBack}},[t("i",{staticClass:"el-icon-back"}),e._v(" "),t("span",[e._v("返回")])]),e._v(" "),t("div",{staticClass:"my-breadcrumb-breadcrumb"},e._l(e.breadcrumb,(function(i,a){return t("div",{key:a},[t("span",[e._v(e._s(i))]),e._v(" "),a!==e.breadcrumb.length-1?t("span",{staticClass:"breadcrumb-slash"},[e._v("/")]):e._e()])})),0)])])}),[],!1,null,"15574f1a",null).exports);p.install=e=>{e.component(p.name,p)};var f=p,g=i(378),v=i.n(g),b=(i(401),{name:"DeptSelect",components:{Treeselect:v.a},data:()=>({options:[],isTree:!0,numPid:null}),props:{isScroll:{default:!1,type:Boolean},fontSize:{default:14,type:Number},placeholder:{default:"请选择",type:String},appendToBody:{default:!1,type:Boolean},ID:{type:[String,Number],default:null},IDS:{type:Array,default:()=>[]},NAME:{type:String,default:""},NAMES:{type:Array,default:()=>[]},disabled:{default:!1,type:Boolean},multiple:{default:!1,type:Boolean},flat:{type:Boolean,default:!1},apiName:{default:"getAllDeptTree",type:String},apiParams:{type:Object,default:()=>({})},childrenName:{default:"childrenDepartment",type:String},labelName:{default:"departmentValue",type:String},disableBranchNodes:{default:!1,type:Boolean},isDisabled:{default:!0,type:Boolean},valueConsistsOf:{default:"BRANCH_PRIORITY",type:String}},watch:{ID:{handler(e){0==this.multiple&&(e&&0!=e?this.numPid=e:this.$nextTick(()=>{this.numPid=null}))},immediate:!0},IDS:{handler(e){1==this.multiple&&(e?this.numPid=e:this.$nextTick(()=>{this.numPid=null}))},immediate:!0},NAME:{handler(e){e||(this.numPid=null)}},NAMES:{handler(e){e||(this.numPid=null)}},apiParams:{handler(e){this.getDeptTree()},immediate:!0}},created(){this.getDeptTree()},methods:{handleChangeValue(e){if(1==this.multiple&&this.options.length){this.$emit("update:IDS",e);let t=[],i=[];e.forEach(e=>{let a=this.getDeptName(e,this.options);t.push({deptId:e,deptName:a}),i.push(a),this.$emit("update:NAMES",i)}),this.$emit("getDeptNames",t),e||(this.numPid=null,this.$emit("update:IDS",null),this.$emit("update:NAMES",""))}else e||(this.numPid=null,this.$emit("update:ID",null),this.$emit("update:NAME",""),this.$emit("treeChange",""))},getDeptName(e,t){let i;for(let a=0;a<t.length;a++){const l=t[a];if(l.id==e){i=l[this.labelName];break}if(l[this.childrenName]instanceof Array&&(i=this.getDeptName(e,l[this.childrenName]),i))break}return i},selectDeapInfo(e){if(!this.multiple){this.$emit("update:ID",e.id),this.$emit("update:NAME",e[this.labelName]),this.$emit("update:levels",e.levels),this.$emit("treeChange",e.id);let t=e.pnames||"";t.includes(",")&&(t=e.pnames.replace(/,/g,"/")),this.$emit("update:pnames",t)}},closeDeapInfo(e){},handleOpen(){this.$nextTick(()=>{const e=document.getElementsByClassName("el-select");for(let t=0;t<e.length;t++)e[t].__vue__.blur()})},normalizer(e){return(e[this.childrenName]&&!e[this.childrenName].length||!e[this.childrenName])&&delete e[this.childrenName],{id:e.id,label:e[this.labelName],children:e[this.childrenName]}},deselectInfo(e){},async getDeptTree(){const e=await this.$api[this.apiName](this.apiParams);200==e.code&&(this.options=e.data)}}}),y=(i(402),i(403),Object(l.a)(b,(function(){var e=this;return(0,e._self._c)("treeselect",{class:{"Zt-tree":e.isTree,"Zt-scroll":e.isScroll},style:{fontSize:e.fontSize+"px"},attrs:{options:e.options,normalizer:e.normalizer,placeholder:e.disabled?"":e.placeholder,disabled:e.disabled,defaultExpandLevel:1,size:"small",appendToBody:e.appendToBody,multiple:e.multiple,clearable:!0,flat:e.flat,disableBranchNodes:e.disableBranchNodes,isDisabled:e.isDisabled,"value-consists-of":e.valueConsistsOf},on:{select:e.selectDeapInfo,close:e.closeDeapInfo,open:e.handleOpen,deselect:e.deselectInfo,input:e.handleChangeValue},model:{value:e.numPid,callback:function(t){e.numPid=t},expression:"numPid"}})}),[],!1,null,"0442cafd",null).exports);y.install=e=>{e.component(y.name,y)};var w=y,D={name:"HideInput",props:{placeholder:{type:String,default:""},value:[String,Number]},data:()=>({showValue:"",once:0}),watch:{value:{handler(e){e&&this.once<1&&(this.showValue=this.desenText(e),this.once+=1,console.log(this.once))},immediate:!0}},mounted(){this.value&&(this.showValue=this.desenText(this.value))},methods:{desenText(e,t=3,i=4){if((e=String(e)).length<7)return e;let a=e.length,l=e.substr(0,t),s=e.substring(a-i,a);return l+e.substring(t,a-Math.abs(i)).replace(/[\s\S]/gi,"*")+s},desenInputText(e){const t=e.target.selectionStart-1;let i=this.value;const a=this.showValue,l=a.length>i.length,s=Math.abs(i.length-a.length);i=l?i.slice(0,t-s+1)+a.slice(t-s+1,t+1)+i.slice(t-s+1):i.slice(0,t+1)+i.slice(t+s+1),this.$emit("update:value",i),console.log(i),this.showValue=this.desenText(i),this.$nextTick(()=>{const i=e.target;if(i.setSelectionRange)i.setSelectionRange(t+1,t+1);else{const e=i.createTextRange();e.moveStart("character",t+1),e.moveEnd("character",t+1),e.select()}})}}},I=(i(404),Object(l.a)(D,(function(){var e=this,t=e._self._c;return t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.showValue,expression:"showValue"}],staticClass:"input",attrs:{placeholder:e.placeholder},domProps:{value:e.showValue},on:{input:[function(t){t.target.composing||(e.showValue=t.target.value)},e.desenInputText]}})])}),[],!1,null,"37f99c6a",null).exports);I.install=e=>{e.component(I.name,I)};var C=I;var A={name:"DiyInput",props:{obj:{type:Object,default:function(){return{}}},originalData:{type:Object,default:function(){return{}}}},created(){this.originalData&&"{}"!==JSON.stringify(this.originalData)&&(this.form.value=this.originalData.value);for(let e in this.obj)this.form[e]=this.obj[e]},watch:{originalData:{handler(e){this.originalData&&"{}"!==JSON.stringify(this.originalData)&&(this.form.value=this.originalData.value),this.childrenFn()},immediate:!0,deep:!0}},data:()=>({form:{required:!1,formItemId:"",type:"",inputType:"",label:"",attr:"",value:"",placeholder:""},maxlength:1e3,placeholder:"请输入"}),mounted(){this.childrenFn()},methods:{childrenFn(){let e={required:this.form.required,formItemId:this.form.formItemId,value:this.form.value,label:this.form.label,type:this.form.type,inputType:this.form.inputType,attr:this.form.attr};this.$emit("childrenFn",e)}}},S=(i(405),Object(l.a)(A,(function(){var e=this,t=e._self._c;return t("section",{staticClass:"FormLine"},[t("div",{staticClass:"FormLabel",style:{width:e.labelWidth}},[e.form.required?t("span",{staticClass:"FormStar"},[e._v("*")]):e._e(),e._v(" "),t("span",[e._v(e._s(e.form.label))]),e._v(" "),e.isShowDot?t("span",[e._v("：")]):e._e()]),e._v(" "),t("div",{staticClass:"FormContent"},["number"!==e.form.inputType?t("el-input",{attrs:{placeholder:e.form.placeholder?e.form.placeholder:e.placeholder,maxlength:"idCard"==e.form.inputType?18:e.maxlength,clearable:"",size:"small"},on:{change:e.childrenFn},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}}):e._e(),e._v(" "),"number"===e.form.inputType?t("el-input-number",{staticClass:"diy-input-Number",staticStyle:{width:"100%"},attrs:{placeholder:e.form.placeholder?e.form.placeholder:e.placeholder,size:"small","controls-position":"right"},on:{change:e.childrenFn},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}}):e._e()],1)])}),[],!1,null,"6244d6b9",null).exports);S.install=e=>{e.component(S.name,S)};var x=S,_={name:"DiyTextarea",props:{obj:{type:Object,default:function(){return{}}},originalData:{type:Object,default:function(){return{}}}},inject:["isShowDot","labelWidth"],data:()=>({form:{required:!1,formItemId:"",type:"",label:"",attr:"",value:"",placeholder:""},maxlength:500,placeholder:"请输入"}),created(){this.originalData&&"{}"!==JSON.stringify(this.originalData)&&(this.form.value=this.originalData.value);for(let e in this.obj)this.form[e]=this.obj[e]},watch:{originalData:{handler(e){this.originalData&&"{}"!==JSON.stringify(this.originalData)&&(this.form.value=this.originalData.value),this.childrenFn()},immediate:!0,deep:!0}},mounted(){this.childrenFn()},methods:{childrenFn(){let e={required:this.form.required,formItemId:this.form.formItemId,value:this.form.value,label:this.form.label,type:this.form.type,attr:this.form.attr};this.$emit("childrenFn",e)}}},F=Object(l.a)(_,(function(){var e=this,t=e._self._c;return t("section",{staticClass:"FormLine"},[t("div",{staticClass:"FormLabel",style:{width:e.labelWidth}},[e.form.required?t("span",{staticClass:"FormStar"},[e._v("*")]):e._e(),e._v(" "),t("span",[e._v(e._s(e.form.label))]),e._v(" "),e.isShowDot?t("span",[e._v("：")]):e._e()]),e._v(" "),t("div",{staticClass:"FormContent"},[t("el-input",{attrs:{type:"textarea",placeholder:e.form.placeholder?e.form.placeholder:e.placeholder,maxlength:e.maxlength,clearable:"",autosize:{minRows:3,maxRows:6}},on:{blur:function(t){return e.childrenFn()}},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}})],1)])}),[],!1,null,"5f894208",null).exports;F.install=e=>{e.component(F.name,F)};var N=F,L={name:"DiyCheckbox",props:{obj:{type:Object,default:function(){return{}}},originalData:{type:Object,default:function(){return{}}}},inject:["isShowDot","labelWidth"],data:()=>({form:{formItemId:"",required:!1,label:"",type:"",expand:{options:[]},attr:"",selLabel:[],value:[]}}),watch:{originalData:{handler(e){if(this.originalData&&"{}"!==JSON.stringify(this.originalData)){let e=this.originalData.value;if(console.log(Array.isArray(e)),e.length>0){this.form.value=[];for(let t=0;t<e.length;t++)this.form.value.push(e[t])}let t=this.originalData.selLabel;if(t.length>0){this.form.selLabel=[];for(let e=0;e<t.length;e++)this.form.selLabel.push(t[e])}}this.childrenFn1()},immediate:!0,deep:!0}},created(){if(this.originalData&&"{}"!==JSON.stringify(this.originalData)){let e=this.originalData.value;if(console.log(Array.isArray(e),e),e.length>0){this.form.value=[];for(let t=0;t<e.length;t++)this.form.value.push(e[t])}let t=this.originalData.selLabel;if(t.length>0){this.form.selLabel=[];for(let e=0;e<t.length;e++)this.form.selLabel.push(t[e])}}for(let e in this.obj)this.form[e]=this.obj[e]},mounted(){this.childrenFn1()},methods:{childrenFn(e){let t=e.map(e=>{let t=this.form.expand.options.find(t=>t.value==e);return{selVal:e,selLab:t.label}}),i={required:this.form.required,formItemId:this.form.formItemId,value:this.form.value,label:this.form.label,type:this.form.type,attr:this.form.attr,selLabel:t};this.$emit("childrenFn",i)},childrenFn1(){let e={required:this.form.required,formItemId:this.form.formItemId,value:this.form.value,label:this.form.label,type:this.form.type,attr:this.form.attr,selLabel:this.form.selLabel};this.$emit("childrenFn",e)}}},k=(i(406),Object(l.a)(L,(function(){var e=this,t=e._self._c;return t("section",{staticClass:"FormLine"},[t("div",{staticClass:"FormLabel",style:{width:e.labelWidth}},[e.form.required?t("span",{staticClass:"FormStar"},[e._v("*")]):e._e(),e._v(" "),t("span",[e._v(e._s(e.form.label))]),e._v(" "),e.isShowDot?t("span",[e._v("：")]):e._e()]),e._v(" "),t("div",{staticClass:"FormContent"},[t("el-checkbox-group",{staticClass:"checkbox",on:{change:e.childrenFn},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}},e._l(e.form.expand.options,(function(i){return t("el-checkbox",{key:i.value,attrs:{label:i.value}},[e._v(" "+e._s(i.label))])})),1)],1)])}),[],!1,null,"43b2a171",null).exports);k.install=e=>{e.component(k.name,k)};var j=k,M={name:"DiyDate",props:{obj:{type:Object,default:function(){return{}}},originalData:{type:Object,default:function(){return{}}}},inject:["isShowDot","labelWidth"],data:()=>({form:{formItemId:"",type:"",required:!1,label:"",placeholder:"",expand:{},value:"",attr:""},placeholder:"请选择"}),watch:{originalData:{handler(e){this.originalData&&"{}"!==JSON.stringify(this.originalData)&&(this.form.value=this.originalData.value),this.childrenFn()},immediate:!0,deep:!0}},created(){this.originalData&&"{}"!==JSON.stringify(this.originalData)&&(this.form.value=this.originalData.value);for(let e in this.obj)this.form[e]=this.obj[e]},mounted(){this.childrenFn()},methods:{childrenFn(){let e={required:this.form.required,formItemId:this.form.formItemId,value:this.form.value,label:this.form.label,type:this.form.type,attr:this.form.attr};this.$emit("childrenFn",e)}}},E=Object(l.a)(M,(function(){var e=this,t=e._self._c;return t("section",{staticClass:"FormLine"},[t("div",{staticClass:"FormLabel",style:{width:e.labelWidth}},[e.form.required?t("span",{staticClass:"FormStar"},[e._v("*")]):e._e(),e._v(" "),t("span",[e._v(e._s(e.form.label))]),e._v(" "),e.isShowDot?t("span",[e._v("：")]):e._e()]),e._v(" "),t("div",{staticClass:"FormContent"},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",size:"small",type:e.form.type,format:e.form.expand.format,"value-format":e.form.expand.valueFormat,placeholder:e.form.placeholder?e.form.placeholder:e.placeholder},on:{change:e.childrenFn},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}})],1)])}),[],!1,null,"6d2568d9",null).exports;E.install=e=>{e.component(E.name,E)};var O=E,$={name:"DiyRadio",props:{obj:{type:Object,default:function(){return{}}},originalData:{type:Object,default:function(){return{}}}},inject:["isShowDot","labelWidth"],data:()=>({form:{formItemId:"",required:!1,label:"",type:"",expand:{options:[]},attr:"",selLabel:"",value:void 0,disabled:!1}}),watch:{originalData:{handler(e){this.originalData&&"{}"!==JSON.stringify(this.originalData)&&(this.form.value=this.originalData.value,this.form.selLabel=this.originalData.selLabel),this.childrenFn1()},immediate:!0,deep:!0}},created(){this.originalData&&"{}"!==JSON.stringify(this.originalData)&&(this.form.value=this.originalData.value,this.form.selLabel=this.originalData.selLabel);for(let e in this.obj)this.form[e]=this.obj[e]},mounted(){this.childrenFn1()},methods:{childrenFn(e){let t=this.form.expand.options.find(t=>t.value==e),i={required:this.form.required,formItemId:this.form.formItemId,value:this.form.value,label:this.form.label,type:this.form.type,selLabel:t.label,attr:this.form.attr};this.$emit("childrenFn",i)},childrenFn1(){let e={required:this.form.required,formItemId:this.form.formItemId,value:this.form.value,label:this.form.label,type:this.form.type,selLabel:this.form.selLabel,attr:this.form.attr};this.$emit("childrenFn",e)}}},q=(i(407),Object(l.a)($,(function(){var e=this,t=e._self._c;return t("section",{staticClass:"FormLine"},[t("div",{staticClass:"FormLabel",style:{width:e.labelWidth}},[e.form.required?t("span",{staticClass:"FormStar"},[e._v("*")]):e._e(),e._v(" "),t("span",[e._v(e._s(e.form.label))]),e._v(" "),e.isShowDot?t("span",[e._v("：")]):e._e()]),e._v(" "),t("div",{staticClass:"FormContent radio"},e._l(e.form.expand.options,(function(i){return t("p",{key:i.value},[t("el-radio",{attrs:{label:i.value},on:{change:e.childrenFn},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}},[e._v(e._s(i.label))])],1)})),0)])}),[],!1,null,"2eed19a1",null).exports);q.install=e=>{e.component(q.name,q)};var B=q,T={name:"DiySelect",props:{obj:{type:Object,default:function(){return{}}},originalData:{type:Object,default:function(){return{}}}},inject:["isShowDot","labelWidth"],data:()=>({form:{formItemId:"",required:!1,label:"",type:"",placeholder:"",expand:{options:[]},attr:"",selLabel:"",value:void 0},placeholder:"请选择"}),watch:{originalData:{handler(e){this.originalData&&"{}"!==JSON.stringify(this.originalData)&&(this.form.value=this.originalData.value,this.form.selLabel=this.originalData.selLabel),this.childrenFn1()},immediate:!0,deep:!0}},created(){this.originalData&&"{}"!==JSON.stringify(this.originalData)&&(this.form.value=this.originalData.value,this.form.selLabel=this.originalData.selLabel);for(let e in this.obj)this.form[e]=this.obj[e]},mounted(){this.childrenFn1()},methods:{childrenFn(e){let t=this.form.expand.options.find(t=>t.value==e),i={required:this.form.required,formItemId:this.form.formItemId,value:this.form.value,label:this.form.label,type:this.form.type,selLabel:t.label,attr:this.form.attr};this.$emit("childrenFn",i)},childrenFn1(){let e={required:this.form.required,formItemId:this.form.formItemId,value:this.form.value,label:this.form.label,type:this.form.type,selLabel:this.form.selLabel,attr:this.form.attr};this.$emit("childrenFn",e)}}},U=Object(l.a)(T,(function(){var e=this,t=e._self._c;return t("section",{staticClass:"FormLine"},[t("div",{staticClass:"FormLabel",style:{width:e.labelWidth}},[e.form.required?t("span",{staticClass:"FormStar"},[e._v("*")]):e._e(),e._v(" "),t("span",[e._v(e._s(e.obj.label))]),e._v(" "),e.isShowDot?t("span",[e._v("：")]):e._e()]),e._v(" "),t("div",{staticClass:"FormContent"},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.form.placeholder?e.form.placeholder:e.placeholder,size:"small"},on:{change:e.childrenFn},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}},e._l(e.form.expand.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)])}),[],!1,null,"2bc11f69",null).exports;U.install=e=>{e.component(U.name,U)};var z=U,P=(i(304),i(305),i(306),i(307),i(308),i(309),i(310),i(311),{name:"DiyUploadImg",props:{obj:{type:Object,default:function(){return{}}},originalData:{type:Object,default:function(){return{}}}},inject:["isShowDot","labelWidth"],data:()=>({loading:!1,widthHeight:100,nowNum:0,disabled:!0,imgTips:"支持图片格式：image/*（任何图片类型）",form:{attr:"",formItemId:"",label:"",required:!1,type:"",expand:{},value:[],ids:[]}}),watch:{originalData:{handler(e){if(this.originalData&&"{}"!==JSON.stringify(this.originalData)){let e=this.originalData.value;if(this.nowNum=e.length,this.nowNum==this.form.expand.limit?this.disabled=!1:this.disabled=!0,e.length>0){this.form.value=[];for(let t=0;t<e.length;t++)this.form.value.push(e[t])}let t=this.originalData.ids;if(t.length>0){this.form.ids=[];for(let e=0;e<t.length;e++)this.form.ids.push(t[e])}}this.childrenFn()},immediate:!0,deep:!0}},created(){if(this.originalData&&"{}"!==JSON.stringify(this.originalData)){let e=this.originalData.value;if(this.nowNum=e.length,e.length>0){this.form.value=[];for(let t=0;t<e.length;t++)this.form.value.push(e[t])}let t=this.originalData.ids;if(t.length>0){this.form.ids=[];for(let e=0;e<t.length;e++)this.form.ids.push(t[e])}}for(let e in this.obj)this.form[e]=this.obj[e]},mounted(){this.nowNum==this.form.expand.limit?this.disabled=!1:this.disabled=!0,this.childrenFn()},methods:{onExceed(){this.$message.warning(`最大上传图片个数为${this.form.expand.limit}个！`)},async httpRequest(e){this.loading=!0;let t=e.file;if(t.size/1024/1024>this.maxSize){let e=await this.compressFile(t,1e3);if(e.size/1024/1024>this.maxSize){t=await this.compressFile(e,800)}else t=e}let i=new FormData;i.append("file",t);try{const e=await this.$api.upFileStream(i);1==e.code?(this.form.value.push(e.data[0]),this.form.ids.push(e.data[0].fileId),this.nowNum+=1,this.nowNum==this.form.expand.limit?this.disabled=!1:this.disabled=!0,this.childrenFn()):(this.childrenFn(),this.$message.warning(e.msg)),this.loading=!1}catch(e){this.loading=!1,this.childrenFn(),this.$message.warning("服务器错误，请联系管理员")}},childrenFn(){let e={required:this.form.required,formItemId:this.form.formItemId,value:this.form.value,label:this.form.label,type:this.form.type,attr:this.form.attr,ids:this.form.ids};this.$emit("childrenFn",e)},handleZoomIn(e,t){this.$refs.elImage[t].clickHandler()},handleDown(e){-1!=e.url.indexOf("https:")?this.urlImgBase64(e):this.downLoadFile(e.url,e.name)},handleDel(e,t){this.$confirm("删除后不可找回, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.form.value.splice(t,1),this.form.ids.splice(t,1),this.nowNum-=1,this.nowNum==this.form.expand.limit?this.disabled=!1:this.disabled=!0,this.childrenFn();let i=e.fileName,a=[];a.push(i),a.length&&this.$api.deleteFile(a).then(e=>{})})},downLoadFile(e,t){if("download"in document.createElement("a")){let i=document.createElement("a");i.style.display="none",i.href=e;let a=decodeURI(t);i.setAttribute("download",a),document.body.appendChild(i),i.click()}},urlImgBase64(e){const t=this;var i=new Image;i.src=e.imageUrl,i.setAttribute("crossOrigin","anonymous"),i.onload=function(){var a=document.createElement("canvas");a.width=i.width,a.height=i.height,a.getContext("2d").drawImage(i,0,0,i.width,i.height);var l=a.toDataURL("image/png");t.downLoadFile(l,e.name)}},compressFile:(e,t=1e3)=>new Promise(i=>{let a=e.type,l=new FileReader;l.readAsDataURL(e),l.onload=function(e){let l=new Image;l.src=e.target.result,l.onload=function(){let e=document.createElement("canvas"),s=e.getContext("2d"),n=l.width/t,o=l.height/n;e.width=t,e.height=o,s.drawImage(l,0,0,t,o);let r=e.toDataURL(a,1).split(","),d=r[0].match(/:(.*?);/)[1],h=atob(r[1]),c=h.length,m=new Uint8Array(c);for(;c--;)m[c]=h.charCodeAt(c);let u=new window.File([new Blob([m],{type:d})],"test."+a.split("/")[1],{type:a});i(u)}}})}}),R=(i(422),Object(l.a)(P,(function(){var e=this,t=e._self._c;return t("section",{staticClass:"FormLine"},[t("div",{staticClass:"FormLabel",style:{width:e.labelWidth}},[e.form.required?t("span",{staticClass:"FormStar"},[e._v("*")]):e._e(),e._v(" "),t("el-tooltip",{staticClass:"FormTips",attrs:{effect:"dark",content:e.imgTips,placement:"top"}},[t("i",{staticClass:"iconfont jczl_yiwenshuoming",staticStyle:{color:"#666",margin:"0 2px"}})]),e._v(" "),t("span",[e._v(e._s(e.form.label))]),e._v(" "),e.isShowDot?t("span",[e._v("：")]):e._e()],1),e._v(" "),t("div",{staticClass:"FormContent",attrs:{id:"uploadFile"}},[t("div",{staticClass:"uploadFile-box"},[e._l(e.form.value,(function(i,a){return t("div",{key:i.fileId,staticClass:"fileBox",style:{width:e.widthHeight+"px",height:e.widthHeight+"px"}},[t("el-image",{ref:"elImage",refInFor:!0,attrs:{src:i.fileUrl,"preview-src-list":[i.fileUrl]}}),e._v(" "),t("div",{staticClass:"fileBox-icon",style:{width:e.widthHeight+"px",height:e.widthHeight+"px",lineHeight:1.15*e.widthHeight+"px",fontSize:e.widthHeight/5+"px"}},[t("i",{staticClass:"icon el-icon-zoom-in",on:{click:function(t){return e.handleZoomIn(i,a)}}}),e._v(" "),t("i",{staticClass:"icon el-icon-download",on:{click:function(t){return e.handleDown(i,a)}}}),e._v(" "),t("i",{staticClass:"icon el-icon-delete",on:{click:function(t){return e.handleDel(i,a)}}})])],1)})),e._v(" "),e.disabled?t("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"avatar-uploader",attrs:{action:"#","http-request":e.httpRequest,multiple:e.form.expand.multiple,accept:"image/*","show-file-list":!1,limit:e.form.expand.limit,"on-exceed":e.onExceed}},[t("i",{staticClass:"el-icon-plus avatar-uploader-icon",style:{width:e.widthHeight+"px",height:e.widthHeight+"px",lineHeight:e.widthHeight+"px",fontSize:e.widthHeight/5+"px"}})]):e._e()],2)])])}),[],!1,null,"20662a4e",null).exports);R.install=e=>{e.component(R.name,R)};var V=R,W={name:"DiyAddress",props:{obj:{type:Object,default:function(){return{}}},originalData:{type:Object,default:function(){return{}}}},inject:["isShowDot","labelWidth"],data:()=>({form:{required:!1,formItemId:"",type:"",label:"",placeholder:"",value:"",attr:"",posit:{lat:null,lng:null},maxlength:1200},placeholder:"请输入地址内容",map:null,marker:null,mapVisible:!1,windowInnerH:window.innerHeight,windowInnerW:window.innerWidth}),created(){this.originalData&&"{}"!==JSON.stringify(this.originalData)&&(this.form.value=this.originalData.value,this.form.posit.lat=this.originalData.posit.lat?this.originalData.posit.lat:null,this.form.posit.lng=this.originalData.posit.lng?this.originalData.posit.lng:null);for(let e in this.obj)this.form[e]=this.obj[e]},watch:{originalData:{handler(e){this.originalData&&"{}"!==JSON.stringify(this.originalData)&&(this.form.value=this.originalData.value,this.form.posit.lat=this.originalData.posit.lat?this.originalData.posit.lat:null,this.form.posit.lng=this.originalData.posit.lng?this.originalData.posit.lng:null),this.childrenFn()},immediate:!0,deep:!0}},mounted(){this.childrenFn(),this.addMap()},methods:{childrenFn(){let e={required:this.form.required,formItemId:this.form.formItemId,value:this.form.value,label:this.form.label,type:this.form.type,attr:this.form.attr,posit:this.form.posit};this.$emit("childrenFn",e)},handleMapAddres(){console.log("----------打开地图----------"),this.mapVisible=!0,this.form.posit.lat&&this.form.posit.lng&&this.getAddress(this.form.posit.lat,this.form.posit.lng)},handleCloseMap(){this.mapVisible=!1,this.childrenFn()},handleConfirm(){this.mapVisible=!1,this.childrenFn()},inputChange(){this.getLocation(this.form.value)},addMap(){let e=this;this.map=new window.AMap.Map(document.getElementById("diyMap"),{resizeEnable:!0,rotateEnable:!0,pitchEnable:!0,zoom:14,pitch:80,expandZoomRange:!0,zooms:[3,20]}),window.AMap.plugin(["AMap.Scale"],(function(){let t=new window.AMap.Scale;e.map.addControl(t)})),this.marker=new window.AMap.Marker;let t={position:{top:"10px",right:"10px"}};window.AMap.plugin(["AMap.ControlBar"],(function(){let i=new window.AMap.ControlBar(t);e.map.addControl(i)})),this.map.on("click",(function(t){console.log(t),e.form.posit.lat=t.lnglat.getLat(),e.form.posit.lng=t.lnglat.getLng(),e.addMarker(t.lnglat),e.getAddress(e.form.posit.lat,e.form.posit.lng)}))},addMarker(e){this.map.clearMap(),this.marker.setPosition(e),this.map.add(this.marker),this.map.setFitView(this.marker)},getAddress(e,t){let i=this;window.AMap.plugin("AMap.Geocoder",(function(){var a=new window.AMap.Geocoder({city:"0755"}),l=[t,e];a.getAddress(l,(function(e,t){console.log(e,t),"complete"===e&&"OK"===t.info&&(i.form.value=t.regeocode.formattedAddress,i.addMarker(l))}))}))},getLocation(e){let t=this;window.AMap.plugin("AMap.Geocoder",(function(){new window.AMap.Geocoder({city:"0755"}).getLocation(e,(function(e,i){console.log(e,i),"complete"===e&&"OK"===i.info&&(t.form.posit.lat=i.geocodes[0].location.getLat(),t.form.posit.lng=i.geocodes[0].location.getLng(),t.addMarker(i.geocodes[0].location))}))}))}}},H=(i(423),Object(l.a)(W,(function(){var e=this,t=e._self._c;return t("section",{staticClass:"FormLine"},[t("div",{staticClass:"FormLabel",style:{width:e.labelWidth}},[e.form.required?t("span",{staticClass:"FormStar"},[e._v("*")]):e._e(),e._v(" "),t("span",[e._v(e._s(e.form.label))]),e._v(" "),e.isShowDot?t("span",[e._v("：")]):e._e()]),e._v(" "),t("div",{staticClass:"FormContent"},[t("el-input",{attrs:{placeholder:e.form.placeholder?e.form.placeholder:e.placeholder,maxlength:e.form.maxlength,size:"small","suffix-icon":"el-icon-map-location"},on:{focus:e.handleMapAddres,change:e.childrenFn},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}})],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.mapVisible,expression:"mapVisible"}],staticClass:"diy-adder-mapBox",style:{width:e.windowInnerW+"px",height:e.windowInnerH+"px"}},[t("div",{staticClass:"diy-box"},[t("div",{staticClass:"site-map-title"},[t("span",[e._v("地址选点地图")]),e._v(" "),t("div",[t("el-button",{attrs:{size:"small",icon:"el-icon-circle-check",type:"primary"},on:{click:e.handleConfirm}},[e._v("确定")]),e._v(" "),t("el-button",{attrs:{size:"small",icon:"el-icon-close",plain:""},on:{click:e.handleCloseMap}},[e._v("关闭")])],1)]),e._v(" "),t("div",{staticStyle:{width:"100%",height:"calc(100% - 45px)"},attrs:{id:"diyMap"}}),e._v(" "),t("div",{staticClass:"info-map"},[t("el-input",{attrs:{id:"tipinput",placeholder:"请输入地址内容"},on:{change:e.inputChange},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}},[t("el-button",{staticClass:"map-search",attrs:{slot:"append",type:"primary",icon:"el-icon-search"},on:{click:e.inputChange},slot:"append"})],1)],1)])])])}),[],!1,null,"b59e7db0",null).exports);H.install=e=>{e.component(H.name,H)};var K=H,Z={name:"DiyDept",props:{obj:{type:Object,default:function(){return{}}},originalData:{type:Object,default:function(){return{}}}},inject:["isShowDot","labelWidth","diyBtnId"],data:()=>({form:{formItemId:"",required:!1,label:"",type:"",attr:"",value:"",selLabel:""},multiple:!1,flat:!0,apiName:"",diyParams:""}),watch:{originalData:{handler(e){this.originalData&&"{}"!==JSON.stringify(this.originalData)&&(this.form.value=this.originalData.value,this.form.selLabel=this.originalData.selLabel),this.childrenFn1()},immediate:!0,deep:!0}},created(){this.diyBtnId?(this.apiName="getDiyDeptTree",this.diyParams=this.diyBtnId):(this.apiName="getDeptTree",this.diyParams=""),this.originalData&&"{}"!==JSON.stringify(this.originalData)&&(this.form.value=this.originalData.value,this.form.selLabel=this.originalData.selLabel);for(let e in this.obj)this.form[e]=this.obj[e]},mounted(){this.childrenFn1()},methods:{childrenFn(e){let t={required:this.form.required,formItemId:this.form.formItemId,value:e.value,label:this.form.label,type:this.form.type,attr:this.form.attr,selLabel:e.label};this.$emit("childrenFn",t)},childrenFn1(){let e={required:this.form.required,formItemId:this.form.formItemId,value:this.form.value,label:this.form.label,type:this.form.type,attr:this.form.attr,selLabel:this.form.selLabel};this.$emit("childrenFn",e)}}},J=Object(l.a)(Z,(function(){var e=this,t=e._self._c;return t("section",{staticClass:"FormLine"},[t("div",{staticClass:"FormLabel",style:{width:e.labelWidth}},[e.form.required?t("span",{staticClass:"FormStar"},[e._v("*")]):e._e(),e._v(" "),t("span",[e._v(e._s(e.form.label))]),e._v(" "),e.isShowDot?t("span",[e._v("：")]):e._e()]),e._v(" "),t("div",{staticClass:"FormContent"},[t("deptSelect",{attrs:{multiple:e.multiple,flat:e.flat,isDiy:!0,apiName:e.apiName,diyParams:e.diyParams,ID:e.form.value},on:{deptDiy:e.childrenFn,"update:ID":function(t){return e.$set(e.form,"value",t)},"update:i-d":function(t){return e.$set(e.form,"value",t)}}})],1)])}),[],!1,null,"3c249012",null).exports;J.install=e=>{e.component(J.name,J)};var Q=J,G=i(450),Y={name:"DiySign",props:{obj:{type:Object,default:function(){return{}}},originalData:{type:Object,default:function(){return{}}}},components:{vueEsign:G.a},inject:["isShowDot","labelWidth"],data:()=>({lineColor:"#000000",lineWidth:6,bgColor:"",isCrop:!1,signImageUrl:"",fileName:"",form:{formItemId:"",required:!1,label:"",type:"",placeholder:"",expand:{},attr:"",value:void 0}}),created(){this.originalData&&"{}"!==JSON.stringify(this.originalData)&&(this.form.value=this.originalData.value);for(let e in this.obj)this.form[e]=this.obj[e]},watch:{originalData:{handler(e){this.originalData&&"{}"!==JSON.stringify(this.originalData)&&(this.form.value=this.originalData.value),this.childrenFn()},immediate:!0,deep:!0}},mounted(){this.childrenFn()},methods:{childrenFn(){let e={required:this.form.required,formItemId:this.form.formItemId,value:this.form.value,label:this.form.label,type:this.form.type,attr:this.form.attr};this.$emit("childrenFn",e)},handleReset(){this.$refs.esign.reset()},handleGenerate(){this.$refs.esign.generate().then(e=>{let t={imageBase64s:[""+e.split(",")[1]]};this.$api.upFileBase64(t).then(e=>{let{code:t,data:i,msg:a}=e;if(1===parseInt(t)){let e={fileId:i[0].fileId,fileUrl:i[0].fileUrl,fileName:i[0].fileName,url:i[0].url};this.fileName=e.fileName,this.form.value=e.fileUrl,this.childrenFn()}else this.$message.error(a)})}).catch(e=>{alert(e)})},reSign(){this.form.value=void 0,this.$refs.esign.reset(),this.fileName=""}}},X=Object(l.a)(Y,(function(){var e=this,t=e._self._c;return t("section",{staticClass:"FormLine"},[t("div",{staticClass:"FormLabel",style:{width:e.labelWidth}},[e.form.required?t("span",{staticClass:"FormStar"},[e._v("*")]):e._e(),e._v(" "),t("span",[e._v(e._s(e.obj.label))]),e._v(" "),e.isShowDot?t("span",[e._v("：")]):e._e()]),e._v(" "),t("div",{staticClass:"FormContent"},[t("div",{staticStyle:{border:"1px solid #ccc"}},[e.form.value?e._e():t("vue-esign",{ref:"esign",attrs:{width:800,height:300,isCrop:e.isCrop,lineWidth:e.lineWidth,lineColor:e.lineColor,bgColor:e.bgColor},on:{"update:bgColor":function(t){e.bgColor=t},"update:bg-color":function(t){e.bgColor=t}}}),e._v(" "),e.form.value?t("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.form.value}}):e._e()],1),e._v(" "),t("p",{staticStyle:{padding:"5px 0"}},[e._v('请在上面区域完成签名 然后点击确"确认"按钮')]),e._v(" "),e.form.value?e._e():t("div",[t("el-button",{attrs:{plain:"",size:"mini",type:"danger"},on:{click:e.handleReset}},[e._v("清除")]),e._v(" "),t("el-button",{attrs:{size:"mini",type:"success"},on:{click:e.handleGenerate}},[e._v("确认")])],1),e._v(" "),e.form.value?t("div",[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.reSign}},[e._v("重签")])],1):e._e()])])}),[],!1,null,"c04c80ac",null).exports;X.install=e=>{e.component(X.name,X)};var ee=X,te={name:"DiyPhone",props:{obj:{type:Object,default:function(){return{}}},originalData:{type:Object,default:function(){return{}}}},inject:["isShowDot","labelWidth"],data:()=>({form:{required:!1,formItemId:"",type:"",label:"",placeholder:"",attr:"",value:""},placeholder:"请输入"}),created(){this.originalData&&"{}"!==JSON.stringify(this.originalData)&&(this.form.value=this.originalData.value);for(let e in this.obj)this.form[e]=this.obj[e]},watch:{originalData:{handler(e){this.originalData&&"{}"!==JSON.stringify(this.originalData)&&(this.form.value=this.originalData.value),this.childrenFn()},immediate:!0,deep:!0}},mounted(){this.childrenFn()},methods:{childrenFn(){let e={required:this.form.required,formItemId:this.form.formItemId,value:this.form.value,label:this.form.label,type:this.form.type,attr:this.form.attr};this.$emit("childrenFn",e)}}},ie=Object(l.a)(te,(function(){var e=this,t=e._self._c;return t("section",{staticClass:"FormLine"},[t("div",{staticClass:"FormLabel",style:{width:e.labelWidth}},[e.form.required?t("span",{staticClass:"FormStar"},[e._v("*")]):e._e(),e._v(" "),t("span",[e._v(e._s(e.form.label))]),e._v(" "),e.isShowDot?t("span",[e._v("：")]):e._e()]),e._v(" "),t("div",{staticClass:"FormContent"},[t("el-input",{attrs:{placeholder:e.form.placeholder?e.form.placeholder:e.placeholder,maxlength:11,clearable:"",size:"small"},on:{change:e.childrenFn},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}})],1)])}),[],!1,null,"b0a90070",null).exports;ie.install=e=>{e.component(ie.name,ie)};var ae=ie,le={name:"Diy",components:{diyInput:x,diyTextarea:N,diyRadio:B,diyCheckbox:j,diySelect:z,diyDate:O,diyPhone:ae,diyUploadImg:V,diyDept:Q,diyAddress:K,diySign:ee},props:{diyBtnId:{type:String,default:""},cformProject:{type:Object,default:function(){return{}}},originalData:{type:Object,default:function(){return{}}},labelWidth:{type:String,default:"120px"},showDot:{type:Boolean,default:!0},maxWidth:{type:String,default:()=>"600px"},disabled:{type:Boolean,default:!1},disableStar:{type:Boolean,default:!0},isRight:{type:Boolean,default:!0}},provide(){return{isShowDot:this.showDot,labelWidth:this.labelWidth,diyBtnId:this.diyBtnId}},data:()=>({form:{},valieForm:{},disabledData:[],DIYdisabled:!1,verData:{},reg:{idCard:/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,phone:/^[1][0-9]{10}$/,number:/^[0-9]+$/}}),watch:{originalData:{handler(e){this.handleOriginalData(e)},deep:!0,immediate:!0},disabled:{handler(e){this.DIYdisabled=e},immediate:!0,deep:!0}},mounted(){},methods:{handleOriginalData(e){if(this.disabledData=[],e&&"{}"!==JSON.stringify(e)){let t=Object.values(e);Array.isArray(t)&&t.length>0&&t.map(e=>{if("DEPT_SELECT"===e.type){let t=e.deptObj.label,i="";if(t&&t.length>0){i=t.map(e=>` [${e}] `).join("")}this.disabledData.push({label:e.label,value:i,id:e.formItemId,required:e.required})}else if("CHECKBOX"===e.type){let t="";if(e.selLabel&&e.selLabel.length>0){t=e.selLabel.map(e=>` [${e.selLab}] `).join("")}this.disabledData.push({label:e.label,value:t,id:e.formItemId,required:e.required})}else if("SELECT"===e.type||"RADIO"===e.type)this.disabledData.push({label:e.label,value:e.selLabel,id:e.formItemId,required:e.required});else if("UPLOAD"===e.type){let t=e.value,i=[];t&&t.length>0&&t.map(e=>{i.push(e.url)}),this.disabledData.push({label:e.label,value:void 0,imgValue:i,id:e.formItemId,required:e.required})}else if("SIGN_PAD"===e.type){let t=e.value,i=[];""===t&&void 0===t||i.push(t),this.disabledData.push({label:e.label,value:void 0,imgValue:i,id:e.formItemId,required:e.required})}else this.disabledData.push({value:e.value,label:e.label,id:e.formItemId,required:e.required})})}},handleVerification(){this.verData={},Object.values(this.form).map(e=>{e.required&&(""==e.value||void 0===e.value||"[]"==JSON.stringify(e.value)?this.verData[e.formItemId]={label:e.label,tip:`请填写${e.label}！`}:("PHONE"==e.type&&!1===this.reg.phone.test(e.value)&&(this.verData[e.formItemId]={label:e.label,tip:"手机号码填写有误！"}),"INPUT"==e.type&&"idCard"===e.inputType&&!1===this.reg.idCard.test(e.value)&&(this.verData[e.formItemId]={label:e.label,tip:"身份证号码填写有误！"})))}),this.$emit("diyVer",this.verData),console.log("--this.verData ==",this.verData)},childrenFn(e){let t=e.formItemId;t&&(this.form[t]=e),this.$emit("diy",this.form),console.log("--this.form ==",this.form),this.handleVerification()}}},se=(i(425),Object(l.a)(le,(function(){var e=this,t=e._self._c;return t("section",{staticClass:"diyBox",style:"max-width: "+e.maxWidth},[e.DIYdisabled?e._e():t("div",e._l(e.cformProject.dataStruct.fields,(function(i){return t("div",{key:i.formItemId},["INPUT"===i.type?t("diyInput",{attrs:{obj:i,originalData:e.originalData[i.formItemId]?e.originalData[i.formItemId]:{}},on:{childrenFn:e.childrenFn}}):e._e(),e._v(" "),"textarea"===i.type?t("diyTextarea",{attrs:{obj:i,originalData:e.originalData[i.formItemId]?e.originalData[i.formItemId]:{}},on:{childrenFn:e.childrenFn}}):e._e(),e._v(" "),"PHONE"===i.type?t("diyPhone",{attrs:{obj:i,originalData:e.originalData[i.formItemId]?e.originalData[i.formItemId]:{}},on:{childrenFn:e.childrenFn}}):"RADIO"===i.type?t("diyRadio",{attrs:{obj:i,originalData:e.originalData[i.formItemId]?e.originalData[i.formItemId]:{}},on:{childrenFn:e.childrenFn}}):"CHECKBOX"===i.type?t("diyCheckbox",{attrs:{obj:i,originalData:e.originalData[i.formItemId]?e.originalData[i.formItemId]:{}},on:{childrenFn:e.childrenFn}}):"SELECT"===i.type?t("diySelect",{attrs:{obj:i,originalData:e.originalData[i.formItemId]?e.originalData[i.formItemId]:{}},on:{childrenFn:e.childrenFn}}):"datetime"===i.type||"year"===i.type||"month"===i.type||"week"===i.type||"date"===i.type?t("diyDate",{attrs:{obj:i,originalData:e.originalData[i.formItemId]?e.originalData[i.formItemId]:{}},on:{childrenFn:e.childrenFn}}):"INPUT_MAP"===i.type?t("diyAddress",{attrs:{obj:i,originalData:e.originalData[i.formItemId]?e.originalData[i.formItemId]:{}},on:{childrenFn:e.childrenFn}}):"UPLOAD"===i.type?t("diyUploadImg",{attrs:{obj:i,originalData:e.originalData[i.formItemId]?e.originalData[i.formItemId]:{}},on:{childrenFn:e.childrenFn}}):"DEPT_SELECT"===i.type?t("diyDept",{attrs:{obj:i,originalData:e.originalData[i.formItemId]?e.originalData[i.formItemId]:{}},on:{childrenFn:e.childrenFn}}):"SIGN_PAD"===i.type?t("diySign",{attrs:{obj:i,originalData:e.originalData[i.formItemId]?e.originalData[i.formItemId]:{}},on:{childrenFn:e.childrenFn}}):e._e()],1)})),0),e._v(" "),e.DIYdisabled?t("div",{staticClass:"diy-disable-view"},e._l(e.disabledData,(function(i){return t("div",{key:i.id,staticClass:"diy-row"},[t("div",{staticClass:"diy-label",style:{width:""+e.labelWidth}},[e.disableStar&&i.required?t("span",{staticClass:"diy-star-tip"},[e._v("*")]):e._e(),e._v(" "),t("span",[e._v(e._s(e.showDot?i.label+"：":i.label))])]),e._v(" "),i.value?t("div",{staticClass:"diy-value",style:{width:`calc(100% - ${e.labelWidth})`}},[t("span",[e._v(e._s(i.value))])]):e._e(),e._v(" "),i.value?e._e():t("div",{staticClass:"diy-value-other",style:{width:`calc(100% - ${e.labelWidth})`}},e._l(i.imgValue,(function(e,a){return t("div",{key:a,staticClass:"diy-value-imgView"},[t("el-image",{staticClass:"diy-img",attrs:{src:e,"preview-src-list":i.imgValue}})],1)})),0)])})),0):e._e()])}),[],!1,null,"1a99e34c",null).exports);se.install=e=>{e.component(se.name,se)};var ne=se,oe=(i(428),{name:"ImportExcel",props:{showDialog:{type:Object,default:()=>({open:!1,title:"导入",downName:"导入模板"})}},watch:{},data:()=>({}),methods:{closeVisible(){this.showDialog.open=!1,this.$emit("close")},download(){this.$api[this.showDialog.downApiName]().then(e=>{const t=document.createElement("a"),i=new Blob([e],{type:"application/vnd.ms-excel"});t.style.display="none",t.href=URL.createObjectURL(i),t.download=this.showDialog.downName,document.body.appendChild(t),t.click(),document.body.removeChild(t)})},async httpRequest(e){let t=e.file;if(t.size/1024/1024>10)return void this.$message.error("文件大于10M，请重新选择！");let i=new FormData;i.append("file",t);try{const e=await this.$api[this.showDialog.importApiName](i);"200"==e.code?this.$emit("success",{state:"success",data:e.data}):(this.showDialog.open=!1,this.$message.error(e.msg)),this.loading=!1}catch(e){this.loading=!1,this.$message.warning("服务器错误，请联系管理员")}}},created(){},mounted(){}}),re=(i(429),Object(l.a)(oe,(function(){var e=this,t=e._self._c;return e.showDialog.open?t("el-dialog",{attrs:{top:"20vh",title:e.showDialog.title,visible:!0,width:"50%","close-on-click-modal":!1},on:{close:e.closeVisible}},[t("div",{staticClass:"dialog-content"},[t("div",{staticClass:"index-box flex"},[t("div",{staticClass:"index-box-step"},[t("img",{attrs:{src:i(426),alt:""}})]),e._v(" "),t("div",{staticClass:"index-box-content"},[t("div",{staticClass:"index-box-content-title"},[e._v("填入信息")]),e._v(" "),t("el-alert",{attrs:{closable:!1,title:"请根据数据模板的格式准备导入的数据，模板中的表头名称不可更改，表头行不能删除，单次导入数据不超过1000条。"}}),e._v(" "),t("div",{staticClass:"index-box-content-click",on:{click:e.download}},[e._v("下载模板")])],1)]),e._v(" "),t("div",{staticClass:"index-box flex"},[t("div",{staticClass:"index-box-step"},[t("img",{attrs:{src:i(427),alt:""}})]),e._v(" "),t("div",{staticClass:"index-box-content"},[e._t("upload",(function(){return[t("div",{staticClass:"index-box-content-title"},[e._v("上传填好的人员信息表")]),e._v(" "),t("el-alert",{attrs:{closable:!1,title:"文件后缀名必须为xlsx(即excel格式)，文件大小不得大于10M。"}}),e._v(" "),t("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"#","http-request":e.httpRequest,limit:1,"show-file-list":!1}},[t("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("上传文件\n          ")])],1)]}))],2)])])]):e._e()}),[],!1,null,"4406c599",null).exports);re.install=e=>{e.component(re.name,re)};var de=re,he={name:"ProcessSelect",data:()=>({list:[],modelId:null}),props:{placeholder:{default:"请选择",type:String},disabled:{default:!1,type:Boolean},ID:[String,Number],NAME:{type:String,default:""}},watch:{ID(e){this.modelId=e}},created(){this.getData()},mounted(){this.modelId=this.ID},methods:{seleChange(e){if(e||"0"===e.toString()){let t=this.list.find(t=>t.id==e).name;this.$emit("update:NAME",t),this.$emit("update:ID",e)}else this.$emit("update:ID",""),this.$emit("update:NAME","")},clearChange(){this.$emit("update:NAME",""),this.$emit("update:ID","")},async getData(){const e=await this.$api.processListPage({pageNumber:1,pageSize:1e3});1==e.code&&(this.list=e.data.rows)}}},ce=(i(430),Object(l.a)(he,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"select"},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.placeholder,clearable:"",filterable:"",disabled:e.disabled,size:"small"},on:{change:e.seleChange,clear:e.clearChange},model:{value:e.modelId,callback:function(t){e.modelId=t},expression:"modelId"}},e._l(e.list,(function(e){return t("el-option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1)}),[],!1,null,"1ea09f2a",null).exports);ce.install=e=>{e.component(ce.name,ce)};var me=ce,ue=i(431);i(437),i(438),i(439);const pe=[["bold","italic","underline","strike"],["image"],["clean"],[{align:[]}],[{size:["small",!1,"large","huge"]}]];var fe={name:"RichText",components:{quillEditor:ue.quillEditor},props:["content"],data:()=>({richContent:"",quillUpdateImg:!1,editorOption:{placeholder:"",theme:"snow",modules:{toolbar:{container:pe,handlers:{image:function(e){e?document.querySelector(".avatar-upload input").click():this.quill.format("image",!1)}}}}},imgUrlList:[],isIMAGE:!1,isLt1M:!1,maxSize:5}),mounted(){this.richContent=this.content},watch:{richContent:{handler(){this.$emit("update:content",this.richContent)}},content:{handler(){this.richContent=this.content}}},methods:{beforeUpload(){this.quillUpdateImg=!0},uploadSuccess(e){console.log(e);let t=this.$refs.myQuillEditor.quill;if(null!==e){let i=t.getSelection().index;t.insertEmbed(i,"image",e),t.setSelection(i+1)}else this.$message.error("图片插入失败");this.quillUpdateImg=!1},uploadError(){this.quillUpdateImg=!1,this.$message.error("图片插入失败")},async httpRequest(e){let t=e.file;if(t.size/1024/1024>this.maxSize){let e=await this.compressFile(t,1e3);if(e.size/1024/1024>this.maxSize){t=await this.compressFile(e,800)}else t=e}let i=new FormData;i.append("file",t);try{const e=await this.$api.upFileStream(i);1==e.code?this.uploadSuccess(e.data[0].fileUrl):this.$message.warning(e.msg)}catch(e){this.$message.warning("服务器错误，请联系管理员")}},compressFile:(e,t=1e3)=>new Promise(i=>{let a=e.type,l=new FileReader;l.readAsDataURL(e),l.onload=function(e){let l=new Image;l.src=e.target.result,l.onload=function(){let e=document.createElement("canvas"),s=e.getContext("2d"),n=l.width/t,o=l.height/n;e.width=t,e.height=o,s.drawImage(l,0,0,t,o);let r=e.toDataURL(a,1).split(","),d=r[0].match(/:(.*?);/)[1],h=atob(r[1]),c=h.length,m=new Uint8Array(c);for(;c--;)m[c]=h.charCodeAt(c);let u=new window.File([new Blob([m],{type:d})],"test."+a.split("/")[1],{type:a});i(u)}}})}},ge=(i(440),i(441),Object(l.a)(fe,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"editor-container"},[t("el-upload",{staticClass:"avatar-upload",attrs:{accept:"image/*",action:"#","show-file-list":!1,"http-request":e.httpRequest,"before-upload":e.beforeUpload}}),e._v(" "),t("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.quillUpdateImg,expression:"quillUpdateImg"}]},[t("quill-editor",{ref:"myQuillEditor",staticStyle:{height:"600px"},attrs:{options:e.editorOption,placeholder:"请输入文章内容"},model:{value:e.richContent,callback:function(t){e.richContent=t},expression:"richContent"}})],1)],1)}),[],!1,null,"16686f43",null).exports);ge.install=e=>{e.component(ge.name,ge)};var ve=ge,be={name:"RolesSelect",data:()=>({list:[],modelId:null}),props:{placeholder:{default:"请选择",type:String},disabled:{default:!1,type:Boolean},ID:[String,Number,Array],NAME:{type:String,default:""},multiple:{type:Boolean,default:!1},collapseTags:{type:Boolean,default:!1}},watch:{ID(e){this.modelId=e}},created(){this.getData()},mounted(){this.modelId=this.ID},methods:{seleChange(e){if(e instanceof Array){let t=this.list[0].roleValue;this.$emit("update:NAME",t),this.$emit("update:ID",e)}else if(e||"0"===e.toString()){let t=this.list.find(t=>t.id==e).roleValue;this.$emit("update:NAME",t),this.$emit("update:ID",e)}else this.$emit("update:ID",""),this.$emit("update:NAME","")},clearChange(){this.$emit("update:NAME",""),this.$emit("update:ID","")},async getData(){const e=await this.$api.getList({pageNumber:1,pageSize:1e3});"200"===e.code&&(this.list=e.data)}}},ye=(i(442),Object(l.a)(be,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"select"},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.placeholder,clearable:"",filterable:"",multiple:e.multiple,"collapse-tags":e.collapseTags,disabled:e.disabled,size:"small"},on:{change:e.seleChange,clear:e.clearChange},model:{value:e.modelId,callback:function(t){e.modelId=t},expression:"modelId"}},e._l(e.list,(function(e){return t("el-option",{key:e.id,attrs:{value:e.id,label:e.roleValue}})})),1)],1)}),[],!1,null,"254a4bb0",null).exports);ye.install=e=>{e.component(ye.name,ye)};var we=ye,De={name:"SearchFormMixin",methods:{findKeyIndex(e){try{for(let t=0;t<this.formConfig.formConfigArray.length;t++){const i=this.formConfig.formConfigArray[t].cols;for(let a=0;a<i.length;a++){if(i[a].formKey===e)return{i:t,j:a}}}}catch(e){console.log(e)}},setValue(e,t,i){const{i:a,j:l}=this.findKeyIndex(e);this.$set(this.formConfig.formConfigArray[a].cols[l],t,i)},setPropsConfig(e,t,i){const{i:a,j:l}=this.findKeyIndex(e);this.$set(this.formConfig.formConfigArray[a].cols[l].propsConfig,t,i)}}},Ie=Object(l.a)(De,void 0,void 0,!1,null,null,null).exports;Ie.install=e=>{e.component(Ie.name,Ie)};var Ce=Ie,Ae={name:"SelectMapAddress",props:{mapData:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1}},data:()=>({mapId:"map"+Date.parse(new Date),form:{value:"",lat:null,lng:null},map:null,marker:null,mapVisible:!1,windowInnerH:window.innerHeight,windowInnerW:window.innerWidth}),watch:{mapData:{handler(e){this.form.value=e.value?e.value:"",this.form.lat=e.lat?e.lat:null,this.form.lng=e.lng?e.lng:null},immediate:!0,deep:!0}},created(){},mounted(){this.addMap()},methods:{handleMapAddres(){this.disabled||(this.mapVisible=!0,this.form.lat&&this.form.lng&&this.getAddress(this.form.lat,this.form.lng))},handleConfirm(){this.$emit("change",this.form),this.mapVisible=!1},handleCloseMap(){this.mapVisible=!1},inputChange(){this.getLocation(this.form.value)},addMap(){if(!window.AMap)throw"window.AMap is not defined";let e=this;this.map=new window.AMap.Map(document.getElementById(this.mapId),{resizeEnable:!0,rotateEnable:!0,pitchEnable:!0,zoom:14,pitch:80,expandZoomRange:!0,zooms:[3,20]}),window.AMap.plugin(["AMap.Scale"],(function(){let t=new window.AMap.Scale;e.map.addControl(t)})),this.marker=new window.AMap.Marker;let t={position:{top:"10px",right:"10px"}};window.AMap.plugin(["AMap.ControlBar"],(function(){let i=new window.AMap.ControlBar(t);e.map.addControl(i)})),this.map.on("click",(function(t){console.log(t),e.form.lat=t.lnglat.getLat(),e.form.lng=t.lnglat.getLng(),e.addMarker(t.lnglat),e.getAddress(e.form.lat,e.form.lng)}))},addMarker(e){this.map.clearMap(),this.marker.setPosition(e),this.map.add(this.marker),this.map.setFitView(this.marker)},getAddress(e,t){let i=this;window.AMap.plugin("AMap.Geocoder",(function(){var a=new window.AMap.Geocoder({city:"0755"}),l=[t,e];a.getAddress(l,(function(e,t){"complete"===e&&"OK"===t.info&&(i.form.value=t.regeocode.formattedAddress,i.addMarker(l))}))}))},getLocation(e){let t=this;window.AMap.plugin("AMap.Geocoder",(function(){new window.AMap.Geocoder({city:"0755"}).getLocation(e,(function(e,i){"complete"===e&&"OK"===i.info&&(t.form.lat=i.geocodes[0].location.getLat(),t.form.lng=i.geocodes[0].location.getLng(),t.addMarker(i.geocodes[0].location))}))}))}}},Se=(i(443),Object(l.a)(Ae,(function(){var e=this,t=e._self._c;return t("section",{staticClass:"map-address"},[t("div",{on:{click:e.handleMapAddres}},[t("el-input",{attrs:{"suffix-icon":"el-icon-map-location"},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}})],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.mapVisible,expression:"mapVisible"}],staticClass:"diy-adder-mapBox",style:{width:e.windowInnerW+"px",height:e.windowInnerH+"px"}},[t("div",{staticClass:"diy-box"},[t("div",{staticClass:"site-map-title"},[t("span",[e._v("地址选点地图")]),e._v(" "),t("div",[t("el-button",{attrs:{size:"small",icon:"el-icon-circle-check",type:"primary"},on:{click:e.handleConfirm}},[e._v("确定")]),e._v(" "),t("el-button",{attrs:{size:"small",icon:"el-icon-close",plain:""},on:{click:e.handleCloseMap}},[e._v("关闭")])],1)]),e._v(" "),t("div",{staticStyle:{width:"100%",height:"calc(100% - 45px)"},attrs:{id:e.mapId}}),e._v(" "),t("div",{staticClass:"info-map"},[t("el-input",{attrs:{id:"tipinput",placeholder:"请输入地址内容"},on:{change:e.inputChange},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}},[t("el-button",{staticClass:"map-search",attrs:{slot:"append",type:"primary",icon:"el-icon-search"},on:{click:e.inputChange},slot:"append"})],1)],1)])])])}),[],!1,null,"fc25dc9c",null).exports);Se.install=e=>{e.component(Se.name,Se)};var xe=Se,_e={name:"TableSelect",data:()=>({list:[],numPid:null}),props:{placeholder:{default:"请选择",type:String},disabled:{default:!1,type:Boolean},ID:[String,Number],params:{type:Object,default:function(){return{}}},isProcess:{default:!1,type:Boolean}},watch:{ID(e){this.numPid=e}},created(){this.getData()},mounted(){this.numPid=this.ID},methods:{seleChange(e){if(e||"0"===e.toString()){let t=this.list.find(t=>t.id==e).name;this.$emit("update:NAME",t),this.$emit("update:ID",e)}else this.$emit("update:ID",""),this.$emit("update:NAME","")},clearChange(){this.$emit("update:NAME",""),this.$emit("update:ID","")},async getData(){let e={pageNumber:1,pageSize:1e3,...this.params};const t=await this.$api.searchDivForm(e);1==t.code&&(this.list=t.data.rows,this.isProcess&&(this.list=[{id:"",name:"不关联表单[固定选项，不需要关联表单请选择]"}].concat(t.data.rows)))}}},Fe=(i(444),Object(l.a)(_e,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"select"},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.placeholder,clearable:"",filterable:"",disabled:e.disabled,size:"small"},on:{change:e.seleChange,clear:e.clearChange},model:{value:e.numPid,callback:function(t){e.numPid=t},expression:"numPid"}},e._l(e.list,(function(e){return t("el-option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1)}),[],!1,null,"6d2485df",null).exports);Fe.install=e=>{e.component(Fe.name,Fe)};var Ne=Fe,Le={name:"ThirdPartySelect",data:()=>({list:[],modelId:null}),props:{placeholder:{default:"请选择",type:String},disabled:{default:!1,type:Boolean},ID:[String,Number],NAME:{type:String,default:""}},watch:{ID(e){this.modelId=e}},created(){this.getData()},mounted(){this.modelId=this.ID},methods:{seleChange(e){if(e||"0"===e.toString()){let t=this.list.find(t=>t.id==e).applicationName;this.$emit("update:NAME",t),this.$emit("update:ID",e)}else this.$emit("update:ID",""),this.$emit("update:NAME","")},clearChange(){this.$emit("update:NAME",""),this.$emit("update:ID","")},async getData(){const e=await this.$api.disparkInterfaceFindPage({pageNumber:1,pageSize:1e3});1==e.code&&(this.list=e.data.rows)}}},ke=(i(445),Object(l.a)(Le,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"select"},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.placeholder,clearable:"",filterable:"",disabled:e.disabled,size:"small"},on:{change:e.seleChange,clear:e.clearChange},model:{value:e.modelId,callback:function(t){e.modelId=t},expression:"modelId"}},e._l(e.list,(function(e){return t("el-option",{key:e.id,attrs:{value:e.id,label:e.applicationName}})})),1)],1)}),[],!1,null,"d109fd1e",null).exports);ke.install=e=>{e.component(ke.name,ke)};var je=ke,Me={name:"UploadFile",props:{multiple:{default:!1,type:Boolean},accept:{default:".apk",type:String},tip:{type:String},limit:{type:Number},maxSize:{type:Number,default:50},fileList:{type:Array,default:()=>[]},IDS:{default:()=>[]},submitSuccess:{type:Boolean,default:!1}},data:()=>({loading:!1,deleNameArr:[],upLoadNameArr:[]}),watch:{fileList:{handler(e){if(!(e instanceof Array))return console.log("当前传入的数据类型为："+typeof e,"==> fileList 需要传入数组"),void this.$emit("update:fileList",[]);let t=e.map(e=>e.fileId);e.forEach(e=>{e.name=e.fileName}),this.$emit("update:fileList",e),this.$emit("update:IDS",t)},immediate:!0},submitSuccess:{handler(e){e&&this.handleFormSubmitSucess()}}},beforeDestroy(){this.upLoadNameArr.length&&this.$listeners["update:submitSuccess"]&&(console.log("组件销毁前删除用户上传成功没点提交到后端的文件"),this.$api.deleteFile(this.upLoadNameArr))},methods:{handleFormSubmitSucess(){console.log("submit"),this.deleNameArr.length&&this.$api.deleteFile(this.deleNameArr),this.deleNameArr=[],this.upLoadNameArr=[],this.$nextTick(()=>{this.$emit("update:submitSuccess",!1)})},handleRemove(e,t){console.log(e,t)},handlePreview(e){console.log(e)},onExceed(e,t){this.$message.warning(`当前限制只能上传 ${this.limit} 个文件`)},beforeRemove(e,t){return this.$confirm(`确定移除 ${e.name}？`).then(()=>{let t=e.fileId;this.$emit("update:fileList",[]),this.deleNameArr.push(t),this.$listeners["update:submitSuccess"]||this.$api.deleteFile([t])})},async httpRequest(e){this.loading=!0;let t=e.file,i=new FormData;i.append("file",t);try{const e=await this.$api.upFileStream(i);if(1==e.code){this.upLoadNameArr.push(e.data[0].fileId);let t=[...this.fileList,...e.data];this.$emit("update:fileList",t)}else this.$emit("update:fileList",[...this.fileList]),this.$message.warning(e.msg);this.loading=!1}catch(e){this.$emit("update:fileList",[...this.fileList]),this.loading=!1,this.$message.warning("服务器错误，请联系管理员")}}}},Ee=Object(l.a)(Me,(function(){var e=this,t=e._self._c;return t("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"upload-demo",attrs:{action:"#","http-request":e.httpRequest,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,multiple:e.multiple,accept:e.accept,limit:e.limit,"on-exceed":e.onExceed,"file-list":e.fileList,name:"fileName"}},[t("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-upload2"}},[e._v("点击上传")]),e._v(" "),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.tip))])],1)}),[],!1,null,"5f42cc54",null).exports;Ee.install=e=>{e.component(Ee.name,Ee)};var Oe=Ee,$e={name:"UploadImg",props:{multiple:{default:!1,type:Boolean},accept:{default:"image/*",type:String},btnIsShow:{type:Boolean,default:!0},widthHeight:{default:100,type:[Number,String]},limit:{default:1,type:Number},maxSize:{type:Number,default:5},imgList:{default:()=>[],required:!0},IDS:{default:()=>[]},submitSuccess:{type:Boolean,default:!1}},data:()=>({loading:!1,deleImgArr:[],upLoadImgArr:[]}),watch:{imgList:{handler(e){if(!(e instanceof Array))return console.log("当前传入的数据类型为："+typeof e,"==> imgList 需要传入数组"),void this.$emit("update:imgList",[]);let t=e.map(e=>e.fileId);console.log("IDS==",t),this.$emit("update:IDS",t)},immediate:!0},submitSuccess:{handler(e){e&&this.handleFormSubmitSucess()}}},mounted(){this.$emit("update:submitSuccess",!1)},beforeDestroy(){this.upLoadImgArr.length&&this.$listeners["update:submitSuccess"]&&(console.log("组件销毁前删除用户上传成功没点提交到后端的图片"),this.$api.deleteFile(this.upLoadImgArr))},methods:{handleFormSubmitSucess(){this.deleImgArr.length&&this.$api.deleteFile(this.deleImgArr),this.deleImgArr=[],this.upLoadImgArr=[],this.$nextTick(()=>{this.$emit("update:submitSuccess",!1)})},onExceed(){this.$message.warning(`最大上传图片个数为${this.limit}个！`)},async httpRequest(e){this.loading=!0;let t=e.file;if(t.size/1024/1024>this.maxSize){let e=await this.compressFile(t,1e3);if(e.size/1024/1024>this.maxSize){t=await this.compressFile(e,800)}else t=e}let i=new FormData;i.append("file",t);try{const e=await this.$api.upFileStreamImg(i);if("200"==e.code){this.upLoadImgArr.push(e.data[0].fileId);let t=[...this.imgList,...e.data];this.$emit("update:imgList",t)}else this.$emit("update:imgList",[...this.imgList]),this.$message.warning(e.msg);this.loading=!1}catch(e){this.loading=!1,this.$message.warning("服务器错误，请联系管理员"),this.$emit("update:imgList",[...this.imgList])}},handleZoomIn(e,t){this.$refs.elImage[t].clickHandler()},handleDown(e){-1!=e.minioUrl.indexOf("https:")?this.urlImgBase64(e):this.downLoadFile(e.minioUrl,e.name)},handleDel(e,t){this.$confirm("删除后不可找回, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{let i=e.fileId;this.deleImgArr.push(i);let a=[...this.imgList];a.splice(t,1),this.$emit("update:imgList",a),this.$listeners["update:submitSuccess"]||this.$api.deleteFile([i])}).catch(()=>{})},downLoadFile(e,t){if("download"in document.createElement("a")){let i=document.createElement("a");i.style.display="none",i.href=e;let a=decodeURI(t);i.setAttribute("download",a),document.body.appendChild(i),i.click()}},urlImgBase64(e){const t=this;var i=new Image;i.src=e.imageUrl,i.setAttribute("crossOrigin","anonymous"),i.onload=function(){var a=document.createElement("canvas");a.width=i.width,a.height=i.height,a.getContext("2d").drawImage(i,0,0,i.width,i.height);var l=a.toDataURL("image/png");t.downLoadFile(l,e.name)}},compressFile:(e,t=1e3)=>new Promise(i=>{let a=e.type,l=new FileReader;l.readAsDataURL(e),l.onload=function(e){let l=new Image;l.src=e.target.result,l.onload=function(){let e=document.createElement("canvas"),s=e.getContext("2d"),n=l.width/t,o=l.height/n;e.width=t,e.height=o,s.drawImage(l,0,0,t,o);let r=e.toDataURL(a,1).split(","),d=r[0].match(/:(.*?);/)[1],h=atob(r[1]),c=h.length,m=new Uint8Array(c);for(;c--;)m[c]=h.charCodeAt(c);let u=new window.File([new Blob([m],{type:d})],"test."+a.split("/")[1],{type:a});i(u)}}})}},qe=(i(446),Object(l.a)($e,(function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"uploadFile"}},[t("div",{staticClass:"uploadFile-box"},[e._l(e.imgList,(function(i,a){return t("div",{key:i.fileId,staticClass:"fileBox",style:{width:e.widthHeight+"px",height:e.widthHeight+"px"}},[t("el-image",{ref:"elImage",refInFor:!0,attrs:{src:i.minioUrl,"preview-src-list":[i.minioUrl]}}),e._v(" "),e.btnIsShow?t("div",{staticClass:"fileBox-icon",style:{width:e.widthHeight+"px",height:e.widthHeight+"px",lineHeight:1.15*e.widthHeight+"px",fontSize:e.widthHeight/5+"px"}},[t("i",{staticClass:"icon el-icon-zoom-in",on:{click:function(t){return e.handleZoomIn(i,a)}}}),e._v(" "),t("i",{staticClass:"icon el-icon-download",on:{click:function(t){return e.handleDown(i,a)}}}),e._v(" "),t("i",{staticClass:"icon el-icon-delete",on:{click:function(t){return e.handleDel(i,a)}}})]):e._e()],1)})),e._v(" "),t("el-upload",{directives:[{name:"show",rawName:"v-show",value:e.btnIsShow&&e.imgList.length<e.limit,expression:"btnIsShow && imgList.length < limit"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"avatar-uploader",attrs:{action:"#","http-request":e.httpRequest,multiple:e.multiple,accept:e.accept,"show-file-list":!1,"file-list":e.imgList,limit:e.limit,"on-exceed":e.onExceed}},[t("i",{staticClass:"el-icon-plus avatar-uploader-icon",style:{width:e.widthHeight+"px",height:e.widthHeight+"px",lineHeight:e.widthHeight+"px",fontSize:e.widthHeight/5+"px"}})])],2)])}),[],!1,null,"389f295e",null).exports);qe.install=e=>{e.component(qe.name,qe)};var Be=qe;const Te=[n,d,m,f,w,ne,K,j,O,Q,x,ae,B,z,ee,N,V,C,de,me,ve,we,Ce,xe,Ne,je,Oe,Be],Ue=function(e){Ue.installed||(Ue.installed=!0,Te.map(t=>e.use(t)))};"undefined"!=typeof window&&window.Vue&&Ue(window.Vue);t.default={install:Ue,...Te}}}]);